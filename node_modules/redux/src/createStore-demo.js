import { createStore ,bindActionCreators} from "redux"
function demoReducer(state,action)
{
    if(action.type=='add_item')
        return [...state,{name:action.itemName,quantity : action.itemQuantity}]
    return state;
}

const add_item=(name,quantity)=>({  //add_item -->action creator 
    type:'add_item',
    itemName:name,
    itemQuantity:((quantity)?quantity:1)
})

const intialState=[{name:'apple'},{name:'rice'}];

const store=createStore(demoReducer,intialState);
store.subscribe(()=>console.log('state might change'))  //whenever store state updates we pass a callback in subscribe 

const actions=bindActionCreators({add_item},store.dispatch)
 console.log(actions);

console.log(store.getState())

actions.add_item('Banana')      //dispatch is used to update the store


console.log(store.getState());

actions.add_item('Mango',4)

// store.dispatch({type:'UNKNOWN'})

console.log(store.getState())

